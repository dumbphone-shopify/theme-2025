{% comment %} her henter jeg glider css inde i assets {% endcomment %}
{{ 'glider.min.css' | asset_url | stylesheet_tag }}
<h2>Carusel Header hi</h2>

<div class="page-width" id="{{ section.id }}">
  <div class="glider">
    {% for block in section.blocks %}
      <div class="carousel-slide" {{ block.shopify_attributes }} style="background-color: {{ block.settings.text_background }};">
      <div class="img-block" style="background-image: url({{ block.settings.image | image_url: width: 600 }});">
        {% comment %} {% if block.settings.image %}
          <img width="250" height="250" src="{{ block.settings.image | image_url: width: 600 }}" alt="{{ block.settings.heading | escape }}" />
        {% endif %} {% endcomment %}
        </div>        
       <div class="text-block text-{{ block.settings.align_text }}" style=" color: {{ block.settings.text_color }};">

        {% if block.settings.heading %}
          <h3 style="color: {{ block.settings.text_color }}">{{ block.settings.heading }} </h3>
        {% endif %}
        {% if block.settings.text %}
          <p>{{ block.settings.text }}</p>
        {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
    <button class="prev"> prev</button>
    <button class="next"> next</button>
</div>


{% comment %} her henter jeg Glide.min.js scriptet for  glideren inde i assets {% endcomment %}
<script src="{{ 'glider.min.js' |asset_url}}" async ></script>

<script>
    {% comment %} her linker jeg knapeprne med mine buttons 
     i gennem klasserne. dette kan man finde i github documentationen for 
     glider.js "https://github.com/NickPiscitelli/Glider.js/tree/master" {% endcomment %}

window.addEventListener('DOMContentLoaded', () =>{
new Glider(document.querySelector('.glider'),{
    slidesToShow: 1.2, // or 2, or any float (e.g., 1.3)
  slidesToScroll: 1,
  draggable: true,
  arrows: {
    prev: '#{{ section.id }} .prev',
     next: '#{{ section.id }} .next',
  },
   responsive: [
    {
      breakpoint: 750,
      settings: {
        slidesToShow: 1.5
      }
    }
  ]
});
});

</script>

{% schema %}
{
    "name":"Carousel",
    "settings": [
        {
        "type": "number",
        "id": "number_slider_desktop",
        "label": "Numer of SLides (desktop)",
        
        }
    ],
      "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "This is a heading"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text",
          "default": "Hereâ€™s a short description or message."
        },
        {
  "type": "select",
  "id": "align_text",
  "label": "Text alignment",
  "default": "left",
  "options": [
    { "value": "left", "label": "Left" },
    { "value": "center", "label": "Centered" },
    { "value": "right", "label": "Right" }
  ]
},{
  "type": "color",
  "id": "text_background",
  "label": "Text block background color",
  "default": "#ffffff"
},
{
  "type": "color",
  "id": "text_color",
  "label": "Text block text color",
  "default": "#000000"
}

      ]
    }
  ],
  "max_blocks": 10,
    "presets": [

        {
            "name":"Carousel"
        }
    ]
}

{% endschema %}

{%- style -%}
.glider {
  display: flex;
  gap: 50px;
  align-items: stretch;
   height: 100%;
  min-height: 400px;
  
}

.carousel-slide {
  display: grid;
  grid-template-columns: 2fr 3fr; /* 2/5 image, 3/5 text */
  gap: 25px;

 height: 100%;
  min-height: 400px;

  border-radius: 25px;
  overflow: hidden;
  margin: auto;
  max-width: 850px;
  padding: 0 !important;
  margin-right: 15px !important;
 
}

.img-block,.text-block {
  width: 100%;
  height: 100%;
}

.img-block {
      aspect-ratio: 7 / 9;
     
  }

.img-block img {
 object-fit:cover;
   width: 100%;
  height: 100%;
}

.text-block {
  padding: 25px 10px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  
}

.text-left {
  text-align: left;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

/* Mobile layout */
@media screen and (max-width: 749px) {
  .carousel-slide {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 2fr; 
    max-width: 100%;
    height: 80vh !important; 
  }
.img-block {
    
  aspect-ratio: 1;
}

}
{%- endstyle -%}
