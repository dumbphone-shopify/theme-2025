{% comment %} 

          LINK TO OFFICIAL DOCS HERE:

          Overall docs relevant to us: 
          https://shopify.dev/docs/storefronts/themes/architecture/

          Input settings:
          https://shopify.dev/docs/storefronts/themes/architecture/settings/input-settings

          Sections and blocks:
          https://help.shopify.com/en/manual/online-store/themes/theme-structure/sections-and-blocks

          Schema is the part of the code that will be visible in the theme-editor. 

          The name sets the name that will present in the sections-list. 

          Settings are the fields that the user can customize in the theme editor. There is more information in the link on the top of this comment.
           
 {% endcomment %}
{% schema %}
  {
    "name": "hero-sektion",
    "tag": "section",
    "class": "hero-banner",
    "settings": [
      {
        "type": "image_picker",
        "id": "background_image",
        "label": "Baggrundsbillede"
      },
      {

        // This is for giving various heights to the section.
        "type": "select",
        "id": "hero_height",
        "label": "Sektionstørrelse",
        "default": "100vh",
        "options": [
          {
            "value": "50vh",
            "label": "50% af skærmstørrelse"
          }, {
            "value": "75vh",
            "label": "75% af skærmstørrelse"
          }, {
            "value": "100vh",
            "label": "100% af skærmstørrelse"
          }, {
            "value": "auto",
            "label": "Auto"
          }
        ]
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Titel",
        "default": "Velkommen til"
      },
      {
        "type": "color",
        "id": "title_color",
        "label": "Titel farve",
        "default": "#ffffff"
      }, {

        // This creates the option to align the text to the left, center or right.
        "type": "select",
        "id": "text_alignment",
        "label": "Tekst placering",
        "default": "center",
        "options": [
          {
            "value": "left",
            "label": "Venstre"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "right",
            "label": "Højre"
          }
        ]
      }, {
        "type": "select",
        "id": "content_position",
        "label": "Tekst block position",
        "default": "center",
        "options": [
          {
            "value": "flex-start",
            "label": "Venstre"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "flex-end",
            "label": "Højre"
          }
        ]
      }
    ],

// This is used to allow the user to add up to two button "blocks"
    "blocks": [
      {
        "type": "button",
        "name": "Knap",
        "settings": [
          {
            "type": "text",
            "id": "label",
            "label": "Knaptekst",
            "default": "Klik her"
          }, {
            "type": "url",
            "id": "link",
            "label": "Knap link"
          }, {
            "type": "color",
            "id": "button_bg_color",
            "label": "Knap baggrundsfarve",
            "default": "#ffffff"
          }, {
            "type": "color",
            "id": "button_text_color",
            "label": "Knap tekstfarve",
            "default": "#000000"
          }
        ]
      }
    ],
    "max_blocks": 2,

    "presets": [
      {
        "name": "hero-sektion"
      }
    ]
  }
{% endschema %}

<section class="hero-banner-section" style="background-image: url({{ section.settings.background_image | image_url: width: 2000 }});">
  <div class="hero-overlay">
    <div class="hero-content">
      <h1 style="color: {{ section.settings.title_color }};">{{ section.settings.heading }}</h1>
      {% if section.blocks.size > 0 %}
        <div class="button-wrapper">
          {% for block in section.blocks %}
            {% if block.type == 'button' and block.settings.label != blank and block.settings.link != blank %}
              <a
                href="{{ block.settings.link }}"
                style="background-color: {{ block.settings.button_bg_color }}; color: {{ block.settings.button_text_color }};"
                class="cta-button">{{ block.settings.label }}</a>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}

    </div>
  </div>
</section>

<style>
  .hero-banner-section {
    position: relative;
    height: {{ section.settings.hero_height }};
    /* This adapts the chosen height of the section */
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-overlay {
    background: rgba(0, 0, 0, 0.4);
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: {{ section.settings.content_position }};
  }

  .hero-content {
    color: white;
    text-align: {{ section.settings.text_alignment }};
    padding: 20px;
  }

  .hero-content h1 {
    font-size: clamp(2rem, 5vw, 3rem);
    /*  2rem to 3rem */
    max-width: 762px;
    width: 100%;
    margin-bottom: clamp(1.125rem, 0.8207rem + 1.5217vw, 2rem);
  }

  /* Button styling */
  .button-wrapper {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 5rem;
    justify-content: center;
    max-width: 762px;
    margin: 0 auto;
  }

  .cta-button {
    flex: 1 1 auto;
    max-width: 258px;


    /*
   background-color: #ffffff;
   color: #000000;
*/
    padding: 1rem 2rem;
    text-decoration: none;
    text-align: center;
    transition: background-color 0.3s ease;
  }

  .cta-button:hover {
    background-color: #e0e0e0;
  }

  /* center buttons vertically on small screens */
  @media (max-width: 600px) {
    .button-wrapper {

      align-items: center;
      gap: 2rem;
    }
  }

</style>